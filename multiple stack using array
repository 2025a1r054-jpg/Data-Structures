#include<stdio.h>
#include<stdlib.h>
#define MAX 100
int stack[MAX],top1= -1,top2=MAX;

void push_stack1(int value){
    if(top1==top2-1){
        printf("Stack-1 overflow\n");
    }
    else{
        stack[++top1]=value;
        printf("\nPushed %d into stack-1\n");
    }
}
void push_stack2(int value){
    if(top1==top2-1){
        printf("Stack-2 overflow\n");
    }
    else{
        stack[--top2]=value;
        printf("\nPushed %d into stack-2\n");
    }
}
int pop_stack1(){
    if(top1==-1){
        printf("\nStack-1 underflow\n");
        return -1;
    }
    else{
        int value = stack[top1];
        top1--;
        return value;
    }
}
int pop_stack2(){
    if(top2==MAX){
        printf("\nStack-2 underflow\n");
        return -1;
    }
    else{
        int value=stack[top2];
        top2++;
        return value;
    }
}
 int peek_stack1(){
    if(top1==-1){
        printf("\nStack-1 underflow\n");
        return -1;
    }
    else{
        return stack[top1];
    }
}
int peek_stack2(){
    if(top2==MAX){
        printf("\nStack underflow\n");
        return -1;
    }
    else{
        return stack[top2];
    }
}
void display1(){
    if(top1==-1){
        printf("\nStack-1 is empty\n");
    }
    else{
        printf("Stack-1 elements are = \n");
        for(int i=top1;i>=0;i--){
            printf("\t%d\n",stack[i]);
        }
    }
}
void display2(){
    if(top2==MAX){
        printf("\nStack-2 is empty.\n");
    }
    else{
        printf("Stack-2 elements are = \n");
        for(int i=top2;i<MAX;i++){
            printf("\t%d\n",stack[i]);
        }
    }
}
int main(){
    int choice,num,val,res;
    while(1){
        printf("1.Push\n");
        printf("2.Pop\n");
        printf("3.Peek\n");
        printf("4.Display\n");
        printf("5.Exit\n");
        printf("Enter choice = ");
        scanf("%d",&choice);
        switch(choice){
            case 1:
            printf("Enter stack number(1-2) = ");
            scanf("%d,&num");
            printf("Enter value = ");
            scanf("%d",&val);
            if(num==1){
                push_stack1(val);
            }
            else if(num==2){
                push_stack2(val);
            }
            else{
                printf("\nInvalid stack number!!\n");
            }
            break;
            case 2:
            printf("Enter stack number(1-2) = ");
            scanf("%d",&num);
            if(num==1){
                res = pop_stack1();
                if(res!=-1){
                    printf("\nPop from stack-1.\n",res);
                }
                else if(num==2){
                    res = pop_stack2();
                    if(res!=-1){
                        printf("\n%d Pop from stack-2.\n",res);
                    }
                }
                else{
                    printf("\nInvalid stack number!!\n");
                }
            }
            break;
              case 3:
                printf("Enter stack number (1-2) = ");
                scanf("%d", &num);

                if(num == 1){
                    res = peek_stack1();
                    if(res != -1)
                        printf("Top of stack-1 = %d\n", res);
                }
                else if(num == 2){
                    res = peek_stack2();
                    if(res != -1)
                        printf("Top of stack-2 = %d\n", res);
                }
                else{
                    printf("Invalid stack number!!\n");
                }
                break;
            case 4:
            display1();
            display2();
            break;
            case 5:
            exit(0);
            break;
            default:
            printf("\nInvalid choice...\n");
        }
        printf("\n");
    }
    return 0;
}
